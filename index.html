<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learneasy AI | Professional Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #000; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        /* Instagram Gradient Colors */
        .insta-gradient {
            background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
        }
        .ai-chat-bg { background: #0a0a0a; border-left: 1px solid #262626; }
        .user-msg { background: #3797f0; border-radius: 18px 18px 0 18px; }
        .ai-msg { background: #262626; border-radius: 18px 18px 18px 0; border: 1px solid #363636; }
        #chat-flow::-webkit-scrollbar { width: 4px; }
        #chat-flow::-webkit-scrollbar-thumb { background: #363636; border-radius: 10px; }
        .premium-box { border: 1px solid transparent; border-image: linear-gradient(45deg, #f09433, #bc1888) 1; }
        .hidden { display: none !important; }
    </style>
</head>
<body class="text-white overflow-hidden">

    <div class="flex h-screen flex-col md:flex-row">
        
        <div id="home-panel" class="flex-1 overflow-y-auto p-4 md:p-8">
            <header class="flex justify-between items-center mb-10">
                <h1 class="text-3xl font-bold tracking-tighter bg-gradient-to-r from-orange-400 via-pink-500 to-purple-600 bg-clip-text text-transparent">LEARNEASY</h1>
                <div class="flex gap-4">
                    <i class="fa-regular fa-heart text-2xl"></i>
                    <i class="fa-regular fa-paper-plane text-2xl"></i>
                </div>
            </header>

            <div class="max-w-md mx-auto bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden">
                <div class="p-3 flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full insta-gradient p-[2px]">
                        <div class="w-full h-full rounded-full bg-black flex items-center justify-center text-[10px]">LE</div>
                    </div>
                    <span class="text-sm font-semibold">learneasy.uz</span>
                </div>
                <div class="aspect-square bg-zinc-800 flex flex-col items-center justify-center text-zinc-500">
                    <i class="fa-solid fa-graduation-cap text-6xl mb-4"></i>
                    <p class="text-sm">Hali postlar yuklanmagan</p>
                </div>
                <div class="p-4 space-y-2">
                    <div class="flex gap-4 mb-2">
                        <i class="fa-regular fa-heart text-xl cursor-pointer"></i>
                        <i class="fa-regular fa-comment text-xl"></i>
                        <i class="fa-regular fa-share-nodes text-xl text-blue-500 md:hidden" onclick="toggleChat()"></i>
                    </div>
                    <p class="text-sm font-bold">12,492 likes</p>
                    <p class="text-sm"><span class="font-bold">learneasy.uz</span> Kelajak ilmda! Savollaringiz bo'lsa AI yordamchimizga yozing. ðŸš€</p>
                </div>
            </div>
        </div>

        <div id="ai-panel" class="w-full md:w-[450px] ai-chat-bg flex flex-col shadow-2xl">
            <div class="p-4 border-b border-zinc-800 flex justify-between items-center bg-black/50">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/20">
                        <i class="fa-solid fa-robot"></i>
                    </div>
                    <div>
                        <h2 class="text-sm font-bold">Learneasy AI Agent</h2>
                        <span id="limit-badge" class="text-[10px] text-green-500 font-mono">Limit: 8/8 imkoniyat</span>
                    </div>
                </div>
                <button onclick="window.location.reload()" class="text-zinc-500 hover:text-white transition"><i class="fa-solid fa-rotate-right"></i></button>
            </div>

            <div id="chat-flow" class="flex-1 overflow-y-auto p-4 space-y-4">
                <div class="ai-msg p-4 text-sm leading-relaxed max-w-[90%]">
                    <b>Learneasy AI:</b><br>
                    Men <b>Learneasy.uz</b> sayti tomonidan maxsus ishlab chiqilgan sun'iy intellekt man. 
                    <br><br>
                    Sizga quyidagi yo'nalishlarda professional yordam bera olaman:
                    <ul class="list-disc ml-4 mt-2 space-y-1 text-zinc-300">
                        <li>Matematika, Fizika, Kimyo va Biologiya</li>
                        <li>Chet tillari (IELTS, CEFR) sertifikatlariga tayyorlash</li>
                        <li>Murakkab uyga vazifalarni yechish</li>
                    </ul>
                    <br>
                    Hozirda sizda <b>8 ta bepul savol</b> berish imkoni bor. Bilimlar olamiga sho'ng'ishga tayyormisiz?
                </div>
            </div>

            <div id="premium-blocker" class="p-6 bg-zinc-900 border-t border-purple-900 hidden">
                <div class="text-center">
                    <i class="fa-solid fa-lock text-3xl text-purple-500 mb-3"></i>
                    <h3 class="font-bold text-lg">Limit tugadi!</h3>
                    <p class="text-xs text-zinc-400 mb-4">Savollar limiti 8 soatdan keyin yangilanadi. To'siqsiz foydalanish uchun Premiumga o'ting.</p>
                    <div class="bg-black/50 p-4 rounded-xl border border-zinc-700 mb-4">
                        <p class="text-xl font-black text-white">12 000 so'm / oyiga</p>
                        <p class="text-[10px] text-zinc-500 mt-2">Karta: <span class="text-zinc-200">4916 9903 2276 6145</span></p>
                    </div>
                    <button class="w-full py-3 rounded-lg insta-gradient font-bold text-sm shadow-xl active:scale-95 transition">PREMIUMNI FAOLLASHTIRISH</button>
                </div>
            </div>

            <div id="input-area" class="p-4 border-t border-zinc-800 bg-black">
                <div class="flex gap-2 items-center bg-zinc-900 rounded-2xl p-2 border border-zinc-800 focus-within:border-blue-500 transition">
                    <input type="text" id="user-input" placeholder="Savol yozing..." class="flex-1 bg-transparent outline-none px-3 text-sm py-2">
                    <button id="send-btn" class="text-blue-500 px-4 font-bold text-sm hover:text-white transition">Yuborish</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_KEY = "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";
        let limit = localStorage.getItem('ai_limit') ? parseInt(localStorage.getItem('ai_limit')) : 8;
        
        // Limitni tekshirish
        function updateLimitUI() {
            const badge = document.getElementById('limit-badge');
            badge.innerText = `Limit: ${limit}/8 imkoniyat`;
            if (limit <= 0) {
                document.getElementById('input-area').classList.add('hidden');
                document.getElementById('premium-blocker').classList.remove('hidden');
                badge.className = "text-[10px] text-red-500 font-mono";
            }
        }
        updateLimitUI();

        async function callAI(msg) {
            try {
                const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${API_KEY}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        "model": "google/gemini-2.0-flash-exp:free",
                        "messages": [
                            {
                                "role": "system", 
                                "content": "Sen Learneasy.uz sayti uchun maxsus yaratilgan professional AI agentsan. Matematika, fizika, kimyo, biologiya va chet tillarini mukammal bilasan. Javoblaring juda aniq, ilmiy va tushunarli bo'lsin. O'zbek tilida javob ber. Har bir javobingda professionallik sezilib tursin."
                            },
                            {"role": "user", "content": msg}
                        ]
                    })
                });

                const data = await response.json();
                return data.choices[0].message.content;
            } catch (error) {
                return "Xatolik! Internetni tekshiring yoki VPN yoqing.";
            }
        }

        async function processChat() {
            const input = document.getElementById('user-input');
            const flow = document.getElementById('chat-flow');
            const val = input.value.trim();

            if(!val || limit <= 0) return;

            // User Message
            flow.innerHTML += `<div class="flex justify-end"><div class="user-msg p-3 text-sm max-w-[85%] shadow-md">${val}</div></div>`;
            input.value = "";
            
            // Update Limit
            limit--;
            localStorage.setItem('ai_limit', limit);
            updateLimitUI();

            // Loading
            const loader = document.createElement('div');
            loader.className = "text-[10px] font-bold text-blue-500 animate-pulse py-2";
            loader.innerText = "Learneasy AI tahlil qilmoqda...";
            flow.appendChild(loader);
            flow.scrollTop = flow.scrollHeight;

            const result = await callAI(val);
            loader.remove();

            // AI Message
            flow.innerHTML += `<div class="ai-msg p-4 text-sm leading-relaxed max-w-[90%] shadow-sm"><b>Learneasy AI:</b><br>${result}</div>`;
            flow.scrollTop = flow.scrollHeight;
        }

        document.getElementById('send-btn').onclick = processChat;
        document.getElementById('user-input').onkeypress = (e) => { if(e.key === 'Enter') processChat(); };
    </script>
</body>
</html>
